{% extends "base.html" %}
{% block title %}Customer Dashboard - Rent a Driver{% endblock %}

{% block content %}
<section class="dashboard">
  <div class="customer-dashboard container">

    <h2 class="welcome-title">Welcome, Customer ðŸ‘‹</h2>

    <div class="dashboard-grid">


      <div class="card rides-card enhanced-rides">
        <div class="card-header">
          <h3>ðŸ“‹ My Ride Requests</h3>
          <p class="card-subtitle">Track your current and past ride requests</p>
        </div>

        <div class="rides-container">
          <ul id="rideList" class="rides-list"></ul>
        </div>
      </div>

      <!--Create Ride Request -->
      <div class="card create-card enhanced-form">
        <div class="form-header">
          <h3>ðŸš— Create a Ride Request</h3>
          <p class="form-subtitle">Fill in the details for your ride request</p>
        </div>

        <form id="rideForm" class="ride-request-form">
          <div class="form-group">
            <label for="pickup" class="form-label">Pickup Location</label>
            <input type="text" id="pickup" class="form-input" placeholder="Enter pickup address" required />
          </div>

          <div class="form-group">
            <label for="dropoff" class="form-label">Dropoff Location</label>
            <input type="text" id="dropoff" class="form-input" placeholder="Enter destination address" required />
          </div>

          <div class="form-group">
            <label for="carName" class="form-label">Your Car Details</label>
            <input type="text" id="carName" class="form-input" placeholder="e.g., Toyota Prius" required />
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary w-100">
              Create Ride Request
            </button>
          </div>
        </form>

        <div id="rideMsg" class="msg mt-3"></div>
      </div>

      <!-- NEW: Nearby Drivers -->
      <div class="card nearby-card">
        <div class="card-header">
          <h3>ðŸš˜ Nearby Drivers</h3>
          <p class="card-subtitle">Drivers available within 5 km radius</p>
        </div>
        <ul id="nearbyDriversList" class="rides-list">
          <li>Detecting location...</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const dashboardNav = document.getElementById('navDashboard');
  if (dashboardNav) dashboardNav.classList.add('active');
});
</script>
{% endblock %}